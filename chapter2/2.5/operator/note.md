# Verilog HDL运算符

## 一、"==" 与 "==="

### 对于 "=="
1. 参与比较的两个操作数必须逐位相等，其结果才为1
2. 如果某些值是不定态X或高阻态Z，得到的结果是不定值X

### 对于 "==="
1. 要求对参与运算的操作数中为不定态X或高阻态Z的位也进行比较
2. 两个操作数必须**完全一致**结果才为1，否则为0
    ```verilog
    // a == b结果为X，a === b结果为1
    reg [4:0] a = 5'b11x01;
    reg [4:0] b = 5'b11x01;
    ```

## 二、缩位运算符

**缩位运算符** 与 **位运算** 的运算符号、逻辑运算法则都是一样的
1. 但是缩位运算符是对单个操作数进行与、或、异或的递推运算，它放在操作数的前面，能够将一个矢量减为一个标量
    ```verilog
    reg [3:0] a;
    b = &a; // 等效于b = ((a[0] & a[1]) & a[2]) & a[3]
    ```
2. 而位运算需要对两个操作数按对应位分别进行逻辑运算
    ```verilog
    wire [3:0] a = 4'b0011;
    wire [3:0] b = 4'b0101;
    // a & b = 4'b0001, a|b = 4'b0111
    ```

## 三、位拼接运算符
1. 用来将两个或多个信号的某些位拼接起来，格式如下
    ```
    {比特序列0, 比特序列1, ......}
    ```
    例如，在进行加法运算时，可将和与进位输出拼接在一起使用
    ```verilog
    input [3:0] ina, inb;           // 加法输入
    output [3:0] sum;               // 加法的和
    output cout;                    // 进位
    assign {cout, sum} = ina + inb; // 将和与进位拼接在一起
    ```
2. 还可以用来重复信号的某些位
    ```
    {重复次数{被重复数据}}
    ```
    例如，可以实现对信号的符号扩展
    ```verilog
    // 将Data的符号位进行扩展，s_data = {Data[7], Data[7], Data[7], Data[7], Data}
    wire [7:0] Data;
    wire [11:0] s_data;
    s_data = {{4{Data[7]}}, Data};
    ```

## 四、运算符的优先级
优先级从高到低↓

! ~

\* / %

\+ -

<< >>

< <= > >=

== != === !==

& ~&

^ ^~

| ~|

&&

||

? :
